echo -e '\n\n\n\n ~~ OpenCV times ~~\n\n'

sudo apt-get -y remove ffmpeg x264 libx264-dev

echo -e '\n Installing Dependenices'
sudo apt-get -y install libopencv-dev
sudo apt-get -y install build-essential checkinstall cmake pkg-config yasm
sudo apt-get -y install libtiff4-dev libjpeg-dev libjasper-dev
sudo apt-get -y install libavcodec-dev libavformat-dev libswscale-dev libdc1394-22-dev libxine-dev libgstreamer0.10-dev libgstreamer-plugins-base0.10-dev libv4l-dev
sudo apt-get -y install python-dev python-numpy
sudo apt-get -y install libtbb-dev
sudo apt-get -y install libqt4-dev libgtk2.0-dev
sudo apt-get -y install libfaac-dev libmp3lame-dev libopencore-amrnb-dev libopencore-amrwb-dev libtheora-dev libvorbis-dev libxvidcore-dev
sudo apt-get -y install x264 v4l-utils

echo -e '\n Unzipping OpenCV file'
mkdir ../../Software/OpenCV3.2.0
unzip ../OpenCV/opencv-3.2.0.zip -d ../../Software/OpenCV3.2.0

echo -e '\n Unzipping ffmpeg file'
tar -zxvf ../OpenCV/ffmpeg-2.8.8.tar.gz -C ../../Software/OpenCV3.2.0

echo -e '\n Maybe need to move Anaconda2 to Trash temporary! '

mkdir ../../Software/OpenCV3.2.0/build
cd ../../Software/OpenCV3.2.0/build
cmake -D CMAKE_BUILD_TYPE=RELEASE -D CMAKE_INSTALL_PREFIX=/usr/local -D WITH_TBB=ON -D BUILD_NEW_PYTHON_SUPPORT=ON -D WITH_V4L=ON -D INSTALL_C_EXAMPLES=ON -D INSTALL_PYTHON_EXAMPLES=ON -D BUILD_EXAMPLES=ON -D WITH_QT=ON -D WITH_OPENGL=ON  -D CUDA_GENERATION=Kepler  -D WITH_FFMPEG=OFF ..

cmake ..
make -j8
sudo make install
sudo sh -c 'echo "/usr/local/lib" > /etc/ld.so.conf.d/opencv.conf'
sudo ldconfig

echo -e '\n Restore Anaconda2! '

echo "OpenCV 3.2.0 ready to be used"

